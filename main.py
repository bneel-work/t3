from Nexus.brokers import BrokerClient

config={
    "api_key": "MdFfeU8t",
    "access_token": "eyJhbGciOiJIUzUxMiJ9.eyJ1c2VybmFtZSI6Ik41MzkyNDQ4OCIsInJvbGVzIjowLCJ1c2VydHlwZSI6IlVTRVIiLCJ0b2tlbiI6ImV5SmhiR2NpT2lKU1V6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUoxYzJWeVgzUjVjR1VpT2lKamJHbGxiblFpTENKMGIydGxibDkwZVhCbElqb2lkSEpoWkdWZllXTmpaWE56WDNSdmEyVnVJaXdpWjIxZmFXUWlPakV6TENKemIzVnlZMlVpT2lJeklpd2laR1YyYVdObFgybGtJam9pTm1Gak9XUmhNVFl0WVdNd01pMHpORGM1TFRrME5HRXRNREkyWlRBNU56ZGpNbVZrSWl3aWEybGtJam9pZEhKaFpHVmZhMlY1WDNZeElpd2liMjF1WlcxaGJtRm5aWEpwWkNJNk1UTXNJbkJ5YjJSMVkzUnpJanA3SW1SbGJXRjBJanA3SW5OMFlYUjFjeUk2SW1GamRHbDJaU0o5ZlN3aWFYTnpJam9pZEhKaFpHVmZiRzluYVc1ZmMyVnlkbWxqWlNJc0luTjFZaUk2SWs0MU16a3lORFE0T0NJc0ltVjRjQ0k2TVRjek1EYzRNamMyTml3aWJtSm1Jam94TnpNd05qazJNekEyTENKcFlYUWlPakUzTXpBMk9UWXpNRFlzSW1wMGFTSTZJalk1TWpjeU9HVTBMVE01Tm1ZdE5HRTFZaTFoTkdJMExXTXhaak14TXpreU16VTJNU0lzSWxSdmEyVnVJam9pSW4wLkNoQUxCWlVod2NGNEtGWTZ2ZTVkczFaVWh5dklkODM0ZlRRSEt0YVd0NktNNEo3bzdteFhnVTk4NDVobG5RZ1hrdnlNYXdSRFpaUzFQMGpaRlpjTDZYWV9QZVR3bDhiOENoVDJxZEd6SDVzeGFNVmF0VF9wazhINXhCRXRzNUl1RTdHUVltWmdfRnl3cHRjWVVZWkRBVXhITHZPT011OVB2NElNMjd3SHhxNCIsIkFQSS1LRVkiOiJNZEZmZVU4dCIsImlhdCI6MTczMDY5NjM2NiwiZXhwIjoxNzMwNzgyNzY2fQ.4qSfwHnCYG2Vw44ZrdpRk7Dy0mY5QqJAQQKZROMCOISasEyRuqjJtOuYErvpjGN1LG60VkgkKPnRIIiIMETmQA",
    "refresh_token": "eyJhbGciOiJIUzUxMiJ9.eyJ0b2tlbiI6IlJFRlJFU0gtVE9LRU4iLCJSRUZSRVNILVRPS0VOIjoiZXlKaGJHY2lPaUpTVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SjFjMlZ5WDNSNWNHVWlPaUpqYkdsbGJuUWlMQ0owYjJ0bGJsOTBlWEJsSWpvaWRISmhaR1ZmY21WbWNtVnphRjkwYjJ0bGJpSXNJbWR0WDJsa0lqb3dMQ0p6YjNWeVkyVWlPaUl6SWl3aVpHVjJhV05sWDJsa0lqb2lObUZqT1dSaE1UWXRZV013TWkwek5EYzVMVGswTkdFdE1ESTJaVEE1Tnpkak1tVmtJaXdpYTJsa0lqb2lkSEpoWkdWZmEyVjVYM1l4SWl3aWIyMXVaVzFoYm1GblpYSnBaQ0k2TUN3aWFYTnpJam9pYkc5bmFXNWZjMlZ5ZG1salpTSXNJbk4xWWlJNklrNDFNemt5TkRRNE9DSXNJbVY0Y0NJNk1UY3pNRGcyT1RFMk5pd2libUptSWpveE56TXdOamsyTXpBMkxDSnBZWFFpT2pFM016QTJPVFl6TURZc0ltcDBhU0k2SWpBNU4yVTJNRGN5TFROa05qQXROREZrTUMxaU1tVXpMVGxpT0RkbE5tWXhOVGMzTWlJc0lsUnZhMlZ1SWpvaUluMC5hVTlaMjAyM2pNSjB4N0pjTklQRXVKRk1VMnpLU1Fwbk1xeENQcE5VSnl4ckFUMm5kMU5KUEwtMzZhTG9ta21OcjI5Z2xCWlJ2RnBOdnRlNmMySWtabXE5R1VmeDQwZW9LS3lYeGt0UHZZeVdwQ3hvaWVTMjNCMHFRT3RaWXpnLU1HU280eTZrSzczUUtXa1FDRERoY2NXRTVqLUJMQWtWUGNHdzhSWkhmd00iLCJpYXQiOjE3MzA2OTYzNjZ9.wSIk3dXdbMe-x7tFlLzpE5UEshww6mY3WSSzneIFI7Nf_vIYAZwFN72PRM_Nn6uuS9pDqj5NYK5vvjOC0EHVMg",
    "feed_token": "eyJhbGciOiJIUzUxMiJ9.eyJ1c2VybmFtZSI6Ik41MzkyNDQ4OCIsImlhdCI6MTczMDY5NjM2NiwiZXhwIjoxNzMwNzgyNzY2fQ.tdAMWqLj1hDurlPMsORQuTWyfn5leMDWhR7KxfBdgVB57OOiszw1Hmtmy58OKwWMBIYO_U9YNdtGR0_yFS2P0Q",
    "userId": "N53924488",
}

symbol = 'BANKNIFTY'
strick_price = 51600
cepe="PE"
order_type = 'LIMIT' 
price = 465
quantity = 15
target_profit = 500
stop_loss = 450

broker_client = BrokerClient(broker_name='aone', config=config)
# broker_client.buy(symbol=symbol, strick_price=strick_price, cepe=cepe, order_type=order_type, price=price, quantity=quantity, tgt=target_profit, sl=stop_loss)
broker_client.sell(symbol=symbol, strick_price=strick_price, cepe=cepe, order_type=order_type, price=price, quantity=quantity, tgt=target_profit, sl=stop_loss)
